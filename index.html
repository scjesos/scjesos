<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>행사장 지도</title>
<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  overflow: hidden;
  height: 100vh;
  background:#f9f9f9;
}

/* 지도 스크롤/확대 */
.zoom-wrapper {
  width:100%;
  height:100%;
  overflow:auto;
  touch-action: pan-x pan-y pinch-zoom;
}

.map-container {
  position:relative;
  width:200%;
  height:auto;
}

.map-container img {
  width:100%;
  height:auto;
  display:block;
}

.hotspot {
  position:absolute;
  cursor:pointer;
}

/* 팝업 */
.popup {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background: rgba(0,0,0,0.7);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}

.popup-content {
  background:#fff;
  border-radius:16px;
  padding:20px;
  width:400px;
  max-width:90%;
  max-height:85%;
  overflow:hidden;
  text-align:center;
  font-size:12px;
  position:relative;
}

.popup-content h2 {
  font-size:14px;
  margin-bottom:10px;
}

.popup-content img {
  display:block;
  width:100%;
  height:auto;
  border-radius:6px;
  touch-action:none;
  user-select:none;
  margin-bottom:10px;
}

.popup-content p {
  margin-top:0;
}

/* 버튼 */
.close-btn, .prev-btn, .next-btn {
  padding:6px 12px;
  border:none;
  border-radius:4px;
  cursor:pointer;
  font-size:12px;
}

.close-btn { background:#333; color:#fff; margin-top:5px; }
.prev-btn, .next-btn { background:#555; color:#fff; position:absolute; top:50%; transform:translateY(-50%); }
.prev-btn { left:-40px; }
.next-btn { right:-40px; }

/* 비활성 버튼 색 */
.disabled { background:#999; cursor:not-allowed; }

</style>
</head>
<body>

<div class="zoom-wrapper">
  <div class="map-container">
    <img src="map.png" alt="행사장 지도">
    <div class="hotspot" data-name="콩이관" style="top:25.4%; left:30.8%; width:6%; height:6%;"></div>
    <div class="hotspot" data-name="홍메관" style="top:53.8%; left:45.7%; width:4%; height:10%;"></div>
    <div class="hotspot" data-name="다년생 식물원" style="top:35%; left:29.3%; width:4.5%; height:8%;"></div>
    <div class="hotspot" data-name="효모관" style="top:46%; left:40%; width:4%; height:10%;"></div>
    <div class="hotspot" data-name="콩이공원" style="top:58.5%; left:86.3%; width:5%; height:7%;"></div>
    <div class="hotspot" data-name="팡이공원" style="top:56.8%; left:69.5%; width:5%; height:7%;"></div>
    <div class="hotspot" data-name="팡이관" style="top:57.3%; left:40%; width:4%; height:8.5%;"></div>
  </div>
</div>

<script>
const images = {
  "콩이관":["콩이관1.jpg","콩이관2.jpg","콩이관3.jpg","콩이관4.jpg"],
  "홍메관":["홍메관1.jpg","홍메관2.jpg","홍메관3.jpg"],
  "다년생 식물원":["다년생식물원1.jpg","다년생식물원2.jpg","다년생식물원3.jpg"],
  "효모관":["효모관1.jpg","효모관2.jpg","효모관3.jpg"],
  "콩이공원":["콩이공원1.jpg"],
  "팡이공원":["팡이공원1.jpg","팡이공원2.jpg"],
  "팡이관":["팡이관1.jpg"]
};

const descs = {
  "콩이관":["콩이관 입구: 장애인 전용 길 배치","실내에 장애인 전용 화장실 배치","실내에 장애인 전용 엘리베이터 배치","실내 내부 모습: 지체 장애인을 위한 휠체어 구비"],
  "홍메관":["테라포밍관은 놀이기구 이용 어려움","출입구 휠체어 가능","출입구 좌측 장애인 화장실"],
  "다년생 식물원":["엘리베이터 설치, 휠체어 통행 편리","1층 왼쪽 장애인 화장실","1층 왼쪽 장애인 화장실"],
  "효모관":["고정문 옆 점자 안내도","입장 후 왼쪽 엘리베이터","고정문 후 자동문 있음"],
  "콩이공원":["포장되지 않은 길, 비 올 시 이동 불편"],
  "팡이공원":["길 좁고 울퉁불퉁, 휠체어 어려움","펜스 없는 부분 위험"],
  "팡이관":["1번 출입구 입장 후 오른쪽 엘리베이터"]
};

// 팝업 생성
function showPopup(name){
  let idx=0;
  const popup=document.createElement("div");
  popup.className="popup";
  popup.innerHTML=`
    <div class="popup-content">
      <h2>${name}</h2>
      <img src="${images[name][idx]}" alt="${name}">
      <p>${descs[name][idx]}</p>
      <button class="prev-btn disabled">&#8592;</button>
      <button class="next-btn ${images[name].length>1?'':'disabled'}">&#8594;</button>
      <button class="close-btn">닫기</button>
    </div>
  `;
  document.body.appendChild(popup);

  const imgEl = popup.querySelector("img");
  const textEl = popup.querySelector("p");
  const prevBtn = popup.querySelector(".prev-btn");
  const nextBtn = popup.querySelector(".next-btn");
  const closeBtn = popup.querySelector(".close-btn");

  function updateButtons(){
    prevBtn.classList.toggle("disabled", idx===0);
    nextBtn.classList.toggle("disabled", idx===images[name].length-1);
  }

  prevBtn.addEventListener("click", ()=>{
    if(idx>0){ idx--; imgEl.src=images[name][idx]; textEl.textContent=descs[name][idx]; updateButtons();}
  });

  nextBtn.addEventListener("click", ()=>{
    if(idx<images[name].length-1){ idx++; imgEl.src=images[name][idx]; textEl.textContent=descs[name][idx]; updateButtons();}
  });

  closeBtn.addEventListener("click", ()=>popup.remove());
  updateButtons();
}

// 핫스팟 클릭 이벤트
document.querySelectorAll(".hotspot").forEach(h=>{
  h.addEventListener("click", ()=>showPopup(h.dataset.name));
});

// 처음 뜨는 안내 팝업
window.addEventListener("load", ()=>{
  const notice=document.createElement("div");
  notice.className="popup";
  notice.innerHTML=`
    <div class="popup-content">
      <h2 style="font-size:14px;">장류마을 테마파크는 BF인증 시설입니다.</h2>
      <p style="font-size:12px;">BF인증은 장애인, 노약자, 임산부 등 사회적 약자가<br>
         시설을 안전하고 편리하게 이용할 수 있도록<br>
         보장하는 제도입니다.</p>
      <button class="close-btn">확인</button>
    </div>
  `;
  document.body.appendChild(notice);
  notice.querySelector(".close-btn").addEventListener("click", ()=>notice.remove());
});
</script>
</body>
</html>
